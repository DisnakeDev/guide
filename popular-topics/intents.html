<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-popular-topics/intents">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Gateway Intents | Disnake Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://guide.disnake.dev/popular-topics/intents"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:image" content="https://guide.disnake.dev/public/disnake-meta-image.png"><meta data-rh="true" name="theme-color" content="#f0c43f"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Gateway Intents | Disnake Guide"><meta data-rh="true" name="description" content="This section covers a list of intents your bot might require."><meta data-rh="true" property="og:description" content="This section covers a list of intents your bot might require."><meta data-rh="true" name="keywords" content="disnake,bot,guide,tutorial,python,gateway intents"><link data-rh="true" rel="icon" href="/public/favicon.ico"><link data-rh="true" rel="canonical" href="https://guide.disnake.dev/popular-topics/intents"><link data-rh="true" rel="alternate" href="https://guide.disnake.dev/popular-topics/intents" hreflang="en"><link data-rh="true" rel="alternate" href="https://guide.disnake.dev/popular-topics/intents" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WPCP8YA273-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Disnake Guide" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.c6aedd8d.css">
<link rel="preload" href="/assets/js/runtime~main.9be2e067.js" as="script">
<link rel="preload" href="/assets/js/main.b4146c4a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://disnake.dev/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/public/disnake-logo.png" alt="Disnake Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/public/disnake-logo.png" alt="Disnake Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Disnake</b></a><a href="https://docs.disnake.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Guide</a><a href="https://docs.disnake.dev/en/stable/api/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/DisnakeDev/disnake" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-github"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/prerequisites/installing-disnake">Prerequisites</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/getting-started/initial-files">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/interactions">Interactions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Interactions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/popular-topics">Popular Topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Popular Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/threads">Threads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/embeds">Embeds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/reactions">Reactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/webhooks">Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/permissions">Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/errors">Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/popular-topics/intents">Gateway Intents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/popular-topics/monetization">Monetization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/faq">Frequently Asked Questions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Frequently Asked Questions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/popular-topics"><span itemprop="name">Popular Topics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Gateway Intents</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Gateway Intents</h1><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This content has been taken directly from the <a href="https://docs.disnake.dev/en/stable/intents.html" target="_blank" rel="noopener noreferrer">documentation</a>, and inherited from <code>discord.py</code>. It will most likely be rewritten in the future.</p></div></div><p>An intent basically allows a bot to subscribe to specific buckets of events. The events that correspond to each intent is documented in the individual attribute of the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents" target="_blank" rel="noopener noreferrer"><code>Intents</code></a> documentation.</p><p>These intents are passed to the constructor of <a href="https://docs.disnake.dev/en/stable/ext/commands/api.html#disnake.ext.commands.Bot" target="_blank" rel="noopener noreferrer"><code>commands.Bot</code></a> or its subclasses (<a href="https://docs.disnake.dev/en/stable/api.html#disnake.AutoShardedClient" target="_blank" rel="noopener noreferrer"><code>AutoShardedClient</code></a>, <a href="https://docs.disnake.dev/en/stable/ext/commands/api.html#disnake.ext.commands.AutoShardedBot" target="_blank" rel="noopener noreferrer"><code>AutoShardedBot</code></a>, <a href="https://docs.disnake.dev/en/stable/ext/commands/api.html#disnake.ext.commands.Bot" target="_blank" rel="noopener noreferrer"><code>Bot</code></a>) with the <code>intents</code> argument.</p><p>If intents are not passed, then the library defaults to every intent being enabled except the privileged intents, currently <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a>, <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.presences" target="_blank" rel="noopener noreferrer"><code>Intents.presences</code></a> and <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.message_content" target="_blank" rel="noopener noreferrer"><code>Intents.message_content</code></a> .</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-intents-are-needed">What intents are needed?<a class="hash-link" href="#what-intents-are-needed" title="Direct link to heading">​</a></h2><p>The intents that are necessary for your bot can only be dictated by yourself. Each attribute in the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents" target="_blank" rel="noopener noreferrer"><code>Intents</code></a> class documents what <a href="https://docs.disnake.dev/en/stable/api.html#discord-api-events" target="_blank" rel="noopener noreferrer"><code>events</code></a> it corresponds to and what kind of cache it enables.</p><p>For example, if you want a bot that functions without spammy events like presences or typing then we could do the following:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">intents.py</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#CF222E">import</span><span class="token plain"> disnake</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">intents </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Intents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">typing </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token boolean" style="color:#005CC5">False</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">presences </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token boolean" style="color:#005CC5">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Somewhere else:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intents</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># or,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">from</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext </span><span class="token keyword" style="color:#CF222E">import</span><span class="token plain"> commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bot </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Bot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">command_prefix</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">when_mentioned_or</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#E3116C">&quot;!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intents</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This doesn&#x27;t enable <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a> since it&#x27;s a privileged intent.</p></div></div><p>Another example showing a bot that only deals with messages and guild information:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">intents.py</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#CF222E">import</span><span class="token plain"> disnake</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">intents </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Intents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">messages</span><span class="token operator" style="color:#D73A49">=</span><span class="token boolean" style="color:#005CC5">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> guilds</span><span class="token operator" style="color:#D73A49">=</span><span class="token boolean" style="color:#005CC5">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># If you also want reaction events enable the following:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># intents.reactions = True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Somewhere else:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intents</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">from</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext </span><span class="token keyword" style="color:#CF222E">import</span><span class="token plain"> commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bot </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Bot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">command_prefix</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">when_mentioned</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intents</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="privileged-intents">Privileged Intents<a class="hash-link" href="#privileged-intents" title="Direct link to heading">​</a></h2><p>With the API change requiring bot authors to specify intents, some intents were restricted further and require more manual steps. These intents are called <strong>privileged intents</strong>.</p><p>A privileged intent is one that requires you to go to the developer portal and manually enable it. To enable privileged intents do the following:</p><ol><li><p>Make sure you&#x27;re logged on to the <a href="https://discord.com" target="_blank" rel="noopener noreferrer">Discord website</a>.</p></li><li><p>Navigate to the <a href="https://discord.com/developers/applications" target="_blank" rel="noopener noreferrer">application page</a>.</p></li><li><p>Click on the bot you want to enable privileged intents for.</p></li><li><p>Navigate to the bot tab on the left side of the screen.</p><div align="center"><img loading="lazy" src="/assets/images/intents-bot-tab-9db5dae0d75061f9e643cbaacf896aa2.png" alt="The bot tab in the application page." width="50%" class="img_ev3q"></div></li><li><p>Scroll down to the &quot;Privileged Gateway Intents&quot; section and enable the ones you want.</p><div align="center"><img loading="lazy" src="/assets/images/intents-privileged-af378b263f9d92b2999e8d18f65db3f4.png" alt="The privileged gateway intents selector." width="80%" class="img_ev3q"></div></li></ol><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Enabling privileged intents when your bot is in over 100 guilds requires going through <a href="https://support.discord.com/hc/en-us/articles/360040720412" target="_blank" rel="noopener noreferrer">bot verification</a>. If your bot is already verified and you would like to enable a privileged intent you must go through <a href="https://dis.gd/contact" target="_blank" rel="noopener noreferrer">Discord support</a> and talk to them about it.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Even if you enable intents through the developer portal, you still have to enable the intents through code as well.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="do-i-need-privileged-intents">Do I need privileged intents?<a class="hash-link" href="#do-i-need-privileged-intents" title="Direct link to heading">​</a></h2><p>This is a quick checklist to see if you need specific privileged intents.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="message-content-intent">Message Content Intent<a class="hash-link" href="#message-content-intent" title="Direct link to heading">​</a></h3><ul><li>Whether you want a prefix that isn&#x27;t the bot mention.</li><li>Whether you want to see what the content of a message was. This includes content, embeds, attachments, and components.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="presence-intent">Presence Intent<a class="hash-link" href="#presence-intent" title="Direct link to heading">​</a></h3><ul><li>Whether you use <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Member.status" target="_blank" rel="noopener noreferrer"><code>Member.status</code></a> at all to track member statuses.</li><li>Whether you use <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Member.activity" target="_blank" rel="noopener noreferrer"><code>Member.activity</code></a> or <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Member.activities" target="_blank" rel="noopener noreferrer"><code>Member.activities</code></a> to check member&#x27;s activities.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="member-intent">Member Intent<a class="hash-link" href="#member-intent" title="Direct link to heading">​</a></h3><ul><li>Whether you track member joins or member leaves, corresponds to <a href="https://docs.disnake.dev/en/stable/api.html#disnake.on_member_join" target="_blank" rel="noopener noreferrer"><code>on_member_join</code></a> and <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Member.on_member_remove" target="_blank" rel="noopener noreferrer"><code>Member.on_member_remove</code></a> events.</li><li>Whether you want to track member updates such as nickname or role changes.</li><li>Whether you want to track user updates such as usernames, avatars, discriminators, etc.</li><li>Whether you want to request the guild member list through <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.chunk" target="_blank" rel="noopener noreferrer"><code>Guild.chunk</code></a> or <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.fetch_members" target="_blank" rel="noopener noreferrer"><code>Guild.fetch_members</code></a>.</li><li>Whether you want high accuracy member cache under <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.members" target="_blank" rel="noopener noreferrer"><code>Guild.members</code></a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="member-cache">Member Cache<a class="hash-link" href="#member-cache" title="Direct link to heading">​</a></h2><p>Along with intents, Discord now further restricts the ability to cache members and expects bot authors to cache as little as is necessary. However, to properly maintain a cache the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a> intent
is required in order to track the members who left and properly evict them.</p><p>To aid with member cache where we don&#x27;t need members to be cached, the library now has a <a href="https://docs.disnake.dev/en/stable/api.html#disnake.MemberCacheFlags" target="_blank" rel="noopener noreferrer"><code>MemberCacheFlags</code></a> flag to control the member cache. The documentation page for the class goes over the specific policies that are possible.</p><p>It should be noted that certain things do not need a member cache since Discord will provide full member information if possible. For example:</p><ul><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.on_message()" target="_blank" rel="noopener noreferrer"><code>on_message()</code></a> will have <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Message.author" target="_blank" rel="noopener noreferrer"><code>Message.author</code></a> be a member even if cache is disabled.</li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.on_voice_state_update()" target="_blank" rel="noopener noreferrer"><code>on_voice_state_update()</code></a> will have the <code>member</code> parameter be a member even if cache is disabled.</li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.on_reaction_add" target="_blank" rel="noopener noreferrer"><code>on_reaction_add</code></a> will have the <code>user</code> parameter be a member when in a guild even if cache is disabled.</li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.on_raw_reaction_add" target="_blank" rel="noopener noreferrer"><code>on_raw_reaction_add</code></a> will have <a href="https://docs.disnake.dev/en/stable/api.html#disnake.RawReactionActionEvent.member" target="_blank" rel="noopener noreferrer"><code>RawReactionActionEvent.member</code></a> be a member when in a guild even if cache is disabled.</li><li>The reaction add events do not contain additional information when in direct messages. This is a Discord limitation.</li><li>The reaction removal events do not have member information. This is a Discord limitation.</li></ul><p>Other events that take a <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Member" target="_blank" rel="noopener noreferrer"><code>Member</code></a> will require the use of the member cache. If absolute accuracy over the member cache is desirable, then it is advisable to have the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a> intent enabled.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="retrieving-members">Retrieving Members<a class="hash-link" href="#retrieving-members" title="Direct link to heading">​</a></h2><p>If the cache is disabled or you disable chunking guilds at startup, we might still need a way to load members. The library offers a few ways to do this:</p><ul><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.query_members" target="_blank" rel="noopener noreferrer"><code>Guild.query_members</code></a><ul><li>Used to query members by a prefix matching nickname or username.</li><li>This can also be used to query members by their user ID.</li><li>This uses the gateway and not the HTTP.</li></ul></li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.chunk" target="_blank" rel="noopener noreferrer"><code>Guild.chunk</code></a><ul><li>This can be used to fetch the entire member list through the gateway.</li></ul></li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.fetch_member" target="_blank" rel="noopener noreferrer"><code>Guild.fetch_member</code></a><ul><li>Used to fetch a member by ID through the HTTP API.</li></ul></li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.fetch_members" target="_blank" rel="noopener noreferrer"><code>Guild.fetch_members</code></a><ul><li>Used to fetch a large number of members through the HTTP API.</li></ul></li></ul><p>It should be noted that the gateway has a strict rate limit of 120 requests per 60 seconds.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h2><p>Some common issues relating to the mandatory intent change.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whered-my-members-go">Where&#x27;d my members go?<a class="hash-link" href="#whered-my-members-go" title="Direct link to heading">​</a></h3><p>Due to an <a href="#member-cache">API change</a> Discord is now forcing developers who want member caching to explicitly opt-in to it. This is a Discord mandated change and there is no way to bypass it. In order to get members back you have to explicitly enable the <a href="#privileged-intents">members privileged intent</a> and
change the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a> attribute to true.</p><p>For example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">intents.py</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#CF222E">import</span><span class="token plain"> disnake</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">intents </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Intents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">default</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">members </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token boolean" style="color:#005CC5">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Somewhere else:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intents</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">from</span><span class="token plain"> disnake</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext </span><span class="token keyword" style="color:#CF222E">import</span><span class="token plain"> commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bot </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Bot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">command_prefix</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">when_mentioned</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intents</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">intents</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-most-messages-have-no-content">Why do most messages have no content?<a class="hash-link" href="#why-do-most-messages-have-no-content" title="Direct link to heading">​</a></h3><p>After August 31st 2022, Discord will start blocking message content from being sent to bots that don&#x27;t have the message content intent enabled.</p><p>If you are on version 2.4 or before, your bot will be able to access message content without the intent enabled in the code. However, as of version 2.5, it is required to enable <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.message_content" target="_blank" rel="noopener noreferrer"><code>message_content</code></a> to receive message content over the gateway.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Starting with version 2.5, or any version once the intent deadline has passed, you will be required to turn on the message content intent in the <a href="https://discord.com/developers/applications" target="_blank" rel="noopener noreferrer">Discord Developer Portal</a> as well.</p></div></div><p>Message content refers to four attributes on the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Message" target="_blank" rel="noopener noreferrer"><code>Message</code></a> object:</p><ul><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Message.content" target="_blank" rel="noopener noreferrer"><code>content</code></a></li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Message.embeds" target="_blank" rel="noopener noreferrer"><code>embeds</code></a></li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Message.attachments" target="_blank" rel="noopener noreferrer"><code>attachments</code></a></li><li><a href="https://docs.disnake.dev/en/stable/api.html#disnake.Message.components" target="_blank" rel="noopener noreferrer"><code>components</code></a></li></ul><p>You will always receive message content in the following cases even without the message content intent:</p><ul><li>Messages the bot sends</li><li>Messages the bot receives in DMs</li><li>Messages in which the bot is mentioned</li><li>Messages received as part of an interaction (for example, a message command)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-does-on_ready-take-so-long-to-fire">Why does <code>on_ready</code> take so long to fire?<a class="hash-link" href="#why-does-on_ready-take-so-long-to-fire" title="Direct link to heading">​</a></h3><p>As part of the API change regarding intents, Discord also changed how members are loaded in the beginning. Originally the library could request 75 guilds at once and only request members from guilds that have the <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Guild.large" target="_blank" rel="noopener noreferrer"><code>Guild.large</code></a> attribute set to <code>True</code>. With the new intent changes, Discord mandates that we can only send 1 guild per request. This causes a 75x slowdown which is further compounded by the fact that <em>all</em> guilds, not just large guilds are being requested.</p><p>There are a few solutions to fix this.</p><ol><li><p>Request the privileged presences intent along with the privileged members intent and enable both of them. This allows the initial member list to contain online members just like the old gateway. Note that we&#x27;re still limited to 1 guild per request but the number of guilds we request is significantly reduced.</p></li><li><p>Disable member chunking by setting <code>chunk_guilds_at_startup</code> to <code>False</code> when constructing a client. Then, when chunking for a guild is necessary you can use the various techniques to <a href="#retrieving-members">retrieve members</a>.</p></li></ol><p>To illustrate the slowdown caused by the API change, take a bot who is in 840 guilds and 95 of these guilds are &quot;large&quot; (over 250 members).</p><p>Under the original system this would result in 2 requests to fetch the member list (75 guilds, 20 guilds) roughly taking 60 seconds. With <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a> but not <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.presences" target="_blank" rel="noopener noreferrer"><code>Intents.presences</code></a> this requires 840 requests, with a rate limit of 120 requests per 60 seconds means that due to waiting for the rate limit it totals to around 7 minutes of waiting for the rate limit to fetch all the members. With both <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.members" target="_blank" rel="noopener noreferrer"><code>Intents.members</code></a> and <a href="https://docs.disnake.dev/en/stable/api.html#disnake.Intents.presences" target="_blank" rel="noopener noreferrer"><code>Intents.presences</code></a> we mostly get the old behaviour so we&#x27;re only required to request for the 95 guilds that are large, this is slightly less than our rate limit so it&#x27;s close to the original timing to fetch the member list.</p><p>Unfortunately due to this change being required from Discord there is nothing that the library can do to mitigate this.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/DisnakeDev/guide/edit/main/guide/docs/popular-topics/intents.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-22T15:16:44.000Z">Jan 22, 2025</time></b> by <b>vi</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/popular-topics/errors"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Error Handling</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/popular-topics/monetization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monetization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-intents-are-needed" class="table-of-contents__link toc-highlight">What intents are needed?</a></li><li><a href="#privileged-intents" class="table-of-contents__link toc-highlight">Privileged Intents</a></li><li><a href="#do-i-need-privileged-intents" class="table-of-contents__link toc-highlight">Do I need privileged intents?</a><ul><li><a href="#message-content-intent" class="table-of-contents__link toc-highlight">Message Content Intent</a></li><li><a href="#presence-intent" class="table-of-contents__link toc-highlight">Presence Intent</a></li><li><a href="#member-intent" class="table-of-contents__link toc-highlight">Member Intent</a></li></ul></li><li><a href="#member-cache" class="table-of-contents__link toc-highlight">Member Cache</a></li><li><a href="#retrieving-members" class="table-of-contents__link toc-highlight">Retrieving Members</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#whered-my-members-go" class="table-of-contents__link toc-highlight">Where&#39;d my members go?</a></li><li><a href="#why-do-most-messages-have-no-content" class="table-of-contents__link toc-highlight">Why do most messages have no content?</a></li><li><a href="#why-does-on_ready-take-so-long-to-fire" class="table-of-contents__link toc-highlight">Why does <code>on_ready</code> take so long to fire?</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.9be2e067.js"></script>
<script src="/assets/js/main.b4146c4a.js"></script>
</body>
</html>